<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebToLead</title>
    <style>
        *{
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        .wrapper{
            display: flex;
            justify-content: center;
            width: 100vw;
            height: 100vh;
            background-color:rgba(142,136,50,0.14);
            position: relative;
        }
        .formcls{
            display: flex;
            flex-direction: column;
            background-color:transparent;
            gap: 1rem;
            width: 80vw;
            height: 100vh;
        }
        .formWrapper{
            margin-top: 15px;
            background-color: transparent;
            display: grid;
            gap: 2.5rem;
            grid-template-columns: auto auto;
        }
        .submit{
            display: flex;
            background-color: transparent;
            flex-direction: row;
            justify-content: space-between;
        }
        .inpt{
            height:50px;
            background-color: transparent;
            border: 1px solid black;
            border-radius:10px;
            padding:10px;
        }
        .error-message {
            color: red;
            font-weight: bold;
            margin-top: 10px;
        }
        .subBtn:hover{
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="wrapper">
       <form class="formcls" id="leadForm" action="https://test.salesforce.com/servlet/servlet.WebToLead?encoding=UTF-8&orgId=00DAu000003mWK1" method="POST" onsubmit="return webToLead(event)">
        <input type=hidden name="oid" value="00DAu000003mWK1">
        <input type=hidden name='captcha_settings' value='{"keyname":"SecrectKeyPairReCaptcha","fallback":"true","orgId":"00DAu000003mWK1","ts":""}' required>
        <input type=hidden name="retURL" value="https://www.google.com">
          <div class="formWrapper">
              <input class="inpt" id="firstName" placeholder="First Name"  name="first_name" type="text" required />
              <input class="inpt" id="lastName" placeholder="Last Name"  maxlength="80" name="last_name" size="40" type="text" required />
              <input class="inpt" id="email" placeholder="Email" maxlength="80" name="email" size="40" type="email" required />
              <input class="inpt" id="phone" placeholder="Phone" maxlength="40" name="phone" size="40" type="text" required/>
               <input class="inpt" id="street" placeholder="Street" name="street" type="text" required />
                <input class="inpt" id="city" placeholder="City" name="city" type="text" required/>
                <input class="inpt" id="state" placeholder="State" type="text" name="state" required />
                <input class="inpt" id="postalcode" placeholder="PostalCode" name="postal_code" type="text" required/>
          </div>
          <div class="businessname">
            <input id="business_name" placeholder="Business Name if Applicable" name="business_name" style="height:50px; background-color: transparent; color:transparent; width:80vw;border:1px solid black; border-radius:10px;padding:10px;" type="text" />
        </div>
           <div class="notes">
            <input id="notes" placeholder="Notes" name="notes" style="height:100px;background-color:transparent; width:80vw;border-radius:10px;padding:10px;border:1px solid black;" type="text" /><br>
        </div>
        <div class="submit">
            <div class="g-recaptcha" data-sitekey="6LfcNP4pAAAAAFyWlE-KYqB3iahSgoWNzckqFOpT"></div>
            <input class="subBtn" type="SUBMIT" label="SUBMIT" value="SUBMIT" onclick="return webToLead()" placeholder="SUBMIT" style="border-radius:50px;border:1px solid black; height:50px; width:200px;background-color:transparent;">
        </div>
        <div class="error-message" id="error-message"></div>
       </form>
     </div>
</body>
<script src="https://www.google.com/recaptcha/api.js"></script>
<script>
    function webToLead() {
   console.log('rahul');
       var response = document.getElementById("g-recaptcha-response").value;
        var errorMessageElement = document.getElementById("error-message");
        if (response.length === 0) {
            errorMessageElement.textContent = "Please complete the reCAPTCHA.";
            return false;
        } 
        errorMessageElement.textContent = "";
      console.log('hello1');
        var postData = {
                    oid: '00DAu000003mWK1',
                first_name: document.getElementById('firstName')?.value,
                last_name: document.getElementById('lastName')?.value,
                email: document.getElementById('email')?.value,
                phone: document.getElementById('phone')?.value,
                street:document.getElementById('street')?.value,
                city:document.getElementById('city')?.value,
                state:document.getElementById('state')?.value,
                PostalCode:document.getElementById('postalcode')?.value,
                Business_name : document.getElementById('Business_name')?.value,
                notes: document.getElementById('notes')?.value,
                }
                var fields = postData;
console.log('hello2');
                var form = document.createElement("form");
                form.method = "POST";
                form.action ="https://test.salesforce.com/servlet/servlet.WebToLead?encoding=UTF-8&orgId=00DAu000003mWK1";
    }

    function timestamp() {
        var response = document.getElementById("g-recaptcha-response");
        if (response == null || response.value.trim() == "") {
            var elems = JSON.parse(document.getElementsByName("captcha_settings")[0].value);
            elems["ts"] = JSON.stringify(new Date().getTime());
            document.getElementsByName("captcha_settings")[0].value = JSON.stringify(elems);
        }
    } 
    setInterval(timestamp, 500);
</script>
</html>
